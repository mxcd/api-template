generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Starship {
  id                      Int      @default(autoincrement()) @id
  // @search @filter
  name                    String
  // @search @filter
  model                   String
  // @search @filter
  starshipClass           String
  // @search @filter
  manufacturer            String
  cost                    Int?
  length                  Float?
  // @filter(equals)
  crew                    Int?
  // @filter(equals)
  passengers              Int?
  maxAtmospheringSpeed    Int?
  hyperdriveRating        Float?
  mglt                    Float?
  cargoCapacity           Int?
  consumables             String
  createdDate             DateTime @default(now())
  modifiedDate            DateTime @default(now())
  films                   Film[]
  pilots                  Person[]
}

model Person {
  id           Int      @default(autoincrement()) @id
  // @search @filter
  name         String
  height       Int?
  mass         Int?
  hairColor    String
  skinColor    String
  eyeColor     String
  birthYear    String
  // @filter(equals)
  gender       String
  createdDate  DateTime @default(now())
  modifiedDate DateTime @default(now())
  homeworldId  Int?
  homeworld    Planet?  @relation("PersonPlanet", references: [id], fields: [homeworldId])
  films        Film[]
  species      Species[]
  starships    Starship[]
  vehicles     Vehicle[]
}

model Film {
  id           Int      @default(autoincrement()) @id
  // @search @filter
  title        String
  episodeId    Int
  openingCrawl String
  director     String
  producer     String
  releaseDate  String
  createdDate  DateTime @default(now())
  modifiedDate DateTime @default(now())
  species      Species[]
  starships    Starship[]
  vehicles     Vehicle[]
  characters   Person[]
  planets      Planet[]
}

model Vehicle {
  id                      Int      @default(autoincrement()) @id
  // @search @filter
  name                    String
  // @search @filter
  model                   String
  // @search @filter
  vehicleClass            String
  // @search @filter
  manufacturer            String
  length                  Float?
  cost                    Int?
  // @filter(equals)
  crew                    Int?
  // @filter(equals)
  passengers              Int?
  maxAtmospheringSpeed    Int?
  cargoCapacity           Int?
  consumables             String
  createdDate             DateTime @default(now())
  modifiedDate            DateTime @default(now())
  films                   Film[]
  pilots                  Person[]
}

model Species {
  id               Int      @default(autoincrement()) @id
  // @search @filter
  name             String
  // @search @filter
  classification   String
  // @search @filter
  designation      String
  averageHeight    Float?
  averageLifespan  Float?
  hairColors       String
  skinColors       String
  eyeColors        String
  language         String
  createdDate      DateTime @default(now())
  modifiedDate     DateTime @default(now())
  homeworldId      Int?
  homeworld        Planet?  @relation("SpeciesPlanet", references: [id], fields: [homeworldId])
  films            Film[]
  people           Person[]
}

model Planet {
  id               Int       @default(autoincrement()) @id
  // @search @filter
  name             String
  diameter         Int?
  rotationPeriod   Float?
  orbitalPeriod    Float?
  gravity          Float?
  population       Int?
  climate          String
  terrain          String
  surfaceWater     Float?
  createdDate      DateTime  @default(now())
  modifiedDate     DateTime  @default(now())
  films            Film[]
  species          Species[] @relation(name: "SpeciesPlanet")
  residents        Person[]  @relation(name: "PersonPlanet")
}
